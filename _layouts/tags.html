---
layout: default
---
<div class="tags-page">
    <div class="container">
        <header class="page-header">
            <h1>标签</h1>
            <p>按标签浏览文章</p>
        </header>

        {% assign all_tags = '' | split: '' %}
        {% for post in site.posts %}
            {% for tag in post.tags %}
                {% unless all_tags contains tag %}
                    {% assign all_tags = all_tags | push: tag %}
                {% endunless %}
            {% endfor %}
        {% endfor %}
        {% assign all_tags = all_tags | sort %}
        
        <div class="tags-cloud">
            {% for tag in all_tags %}
            {% assign tag_posts = site.posts | where_exp: "post", "post.tags contains tag" %}
            {% assign tag_size = tag_posts.size %}
            {% assign font_size = tag_size | times: 0.1 | plus: 0.9 %}
            <a href="#{{ tag | slugify }}" class="tag-cloud-item" style="font-size: {{ font_size }}em;">
                {{ tag }} ({{ tag_size }})
            </a>
            {% endfor %}
        </div>

        <div class="tags-list">
            {% for tag in all_tags %}
            {% assign tag_posts = site.posts | where_exp: "post", "post.tags contains tag" %}
            <section id="{{ tag | slugify }}" class="tag-section">
                <h2 class="tag-title">
                    <i class="fas fa-tag"></i> {{ tag }}
                    <span class="tag-count">({{ tag_posts.size }} 篇文章)</span>
                </h2>
                <ul class="tag-posts">
                    {% for post in tag_posts %}
                    <li>
                        <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
                        <time datetime="{{ post.date | date: '%Y-%m-%d' }}">{{ post.date | date: "%Y-%m-%d" }}</time>
                    </li>
                    {% endfor %}
                </ul>
            </section>
            {% endfor %}
        </div>
    </div>
</div>

